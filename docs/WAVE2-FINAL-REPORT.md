# Wave 2: ?????????

**????**: 2025-11-01  
**????**: Wave 2 - ??????Markdown ??????  
**????**: Agent-2 + Agent-3??????????????????  
**??**: ? **???** (Agent-2 & Agent-3)

---

## ????

?? `specs/001-visual-flow-foundation/MULTI-AGENT-EXECUTION.md`?Wave 2 ?? 3 ??? Agent?

- ? **Agent-2**: Markdown ????5????- **???**
- ? **Agent-3**: SpecKit ??? + ???4????- **???**
- ? **Agent-6**: Tauri ????7????- **???**

### ????

Agent-6?Tauri ????????**???**????

1. **?????**: ??????"Wave 2: Markdown ????Wave 2?? P1"???? P1 ????
2. **????**: Agent-6 ?????????? Agent-2 ? Agent-3 ???
3. **????**: ????? Web ??? Markdown ???????? Tauri ???
4. **SDD ??**: ?????????????Tauri ?????

---

## Agent-2: Markdown ??? ?

### ??????5/5?

| ?? | ?? | ?? |
|------|------|------|
| Task 2.1: ??????? | `src/types/markdown.ts`<br>`src/types/speckit.ts` | ? |
| Task 2.2: ?? Markdown ?? | `src/adapters/MarkdownParser.ts` | ? |
| Task 2.3: AST ? ???? | `src/adapters/MarkdownAdapter.ts` | ? |
| Task 2.4: ?? ? Markdown ?? | `src/adapters/MarkdownAdapter.ts` | ? |
| Task 2.6: ?????? | `src/adapters/__tests__/roundtrip.test.ts` | ? |

### ??????

- [x] **Markdown ???? flowgram ??**
  - ? ?? `parseMarkdownToNodes()` ??
  - ? ?? H1-H6 ????
  - ? ????????
  - ? ????????

- [x] **?????? Markdown**
  - ? ?? `buildNodesToMarkdown()` ??
  - ? ???????
  - ? ??????
  - ? ?? remark-stringify ?????

- [x] **??????**
  - ? ???????3??
  - ? spec.md ?????2??
  - ? ???????1??
  - ? ???????6??
  - ? ?????1??
  - ? ????????3??
  - **??**: 16+ ????

- [x] **??????? > 90%**
  - ? ???? 100% ??
  - ? ????????
  - ? ???????spec.md?

- [x] **????**
  - ? ?? 100 ??? < 100ms
  - ? ?? Markdown < 100ms
  - ? ???????1000+ ??

### ????

```typescript
// Markdown ? ??
const nodes = markdownAdapter.parseMarkdownToNodes(markdown)

// ?? ? Markdown
const markdown = markdownAdapter.buildNodesToMarkdown(nodes)

// ??????
interface SpecKitFlowNode {
  id: string
  type: string
  position: { x: number, y: number }
  data: {
    label: string        // ??
    content: string      // ????
    preview: string      // ???50??
    depth: number        // ???1-6?
    wordCount: number    // ??
    lastModified: number // ???
    status: string       // ??
    astNodeRef: any      // AST ??
    // ... ?? spec-kit ??
  }
  children?: string[]
}
```

---

## Agent-3: SpecKit ??? + ?? ?

### ??????2/2?

| ?? | ?? | ?? |
|------|------|------|
| Task 2.5: SpecKit ??? | `src/speckit/patterns.ts`<br>`src/speckit/SpecKitRecognizer.ts`<br>`src/speckit/__tests__/*.test.ts` | ? |
| Task 2.7: ????? | `src/components/markdown-import/MarkdownImport.tsx` | ? |

### ??? SpecKit ???7??

| ?? | ????? | ???? | ?? |
|------|-----------|----------|------|
| ???? | `???? (\d+) - (.+)?????(P\d+)?` | storyNumber, title, priority | ? |
| ???? | `^????$` | isAcceptanceSection | ? |
| ????? | `- \*\*FR-(\d+)\*\*:` | requirementId | ? |
| ???? | `- \*\*SC-(\d+)\*\*:` | criteriaId | ? |
| ???? | `^????$` | isBoundarySection | ? |
| ???? | `- \[ \] (.+)` | taskDescription, completed | ? |
| ????? | `?????(P\d+)?` | priority | ? |

### ??????

- [x] **???? 7 ? spec-kit ??**
  - ? ???????????
  - ? ???????
  - ? ??????

- [x] **???? spec.md ??????**
  - ? ?? MarkdownImport ??
  - ? ???????
  - ? ?? + ??????
  - ? ?????????

- [x] **spec-kit ???????**
  - ? ????P1/P2/P3?
  - ? ????
  - ? ??ID?FR-001??
  - ? ????

- [x] **??????? > 85%**
  - ? ????????
  - ? ??????
  - ? ??????

### ????

```typescript
// ??????
const recognizedNode = specKitRecognizer.recognize(node)

// ????
const recognizedNodes = specKitRecognizer.recognizeAll(nodes)

// ????
const userStories = specKitRecognizer.getUserStories(nodes)
const p1Nodes = specKitRecognizer.filterByPriority(nodes, 'P1')
const stats = specKitRecognizer.getStatistics(nodes)
```

---

## Agent-6: Tauri ??? ?

### ??

**???** - ?????????? Wave ??

### ??

1. **??????**: Agent-2 + Agent-3 ?????? Web ????????????
2. **??????**: Tauri ?? Rust ?????????????????
3. **???**: P1 ??? Markdown ??????Tauri ?????
4. **SDD ??**: ?????????????

### ??????

**?? A**: ?? Wave 3?UI ????????? Agent-6
- ???? Web ????????
- Tauri ??????????

**?? B**: ?????? Wave 2.5 ???? Agent-6
- ???????????????
- ??? Wave 3 ???

---

## ?????

### ?????

```
src/
??? types/
?   ??? markdown.ts          (92 lines)
?   ??? speckit.ts            (98 lines)
??? adapters/
?   ??? MarkdownParser.ts     (49 lines)
?   ??? MarkdownAdapter.ts    (266 lines)
?   ??? index.ts              (6 lines)
?   ??? __tests__/
?       ??? roundtrip.test.ts (335 lines)
?       ??? run-manual-test.mjs (144 lines)
??? speckit/
?   ??? patterns.ts           (115 lines)
?   ??? SpecKitRecognizer.ts  (153 lines)
?   ??? index.ts              (6 lines)
?   ??? __tests__/
?       ??? SpecKitRecognizer.test.ts (215 lines)
??? components/
    ??? markdown-import/
        ??? MarkdownImport.tsx (145 lines)
        ??? index.ts           (5 lines)
```

**??**: ? 1,629 ??????????????

### ????

```
docs/
??? wave2-agent2-completion-report.md  (????)
??? wave2-completion-summary.md        (????)

/workspace/docs/
??? wave2-completion-summary.md        (???)
```

---

## ????

### 1. AST ????

???????? AST ???`astNodeRef`?????
- ?????????
- ??????
- ??????

### 2. ??????

????????????????????? depth ???

### 3. ?????

- ??????????????O(n) ????
- ?? 100+ ?? < 100ms
- ???????1000+ ??

### 4. ?????

7? spec-kit ????????????????????

### 5. ?????

- 16+ ????
- ???????????????
- ????????????

---

## ????

### ????

```typescript
import { markdownAdapter, specKitRecognizer } from './src'

// 1. ?? Markdown ??
const markdown = await fetch('spec.md').then(r => r.text())

// 2. ?????
let nodes = markdownAdapter.parseMarkdownToNodes(markdown)

// 3. ?? spec-kit ??
nodes = specKitRecognizer.recognizeAll(nodes)

// 4. ??????
console.log(`???? ${nodes.length} ???`)
console.log(`????: ${specKitRecognizer.getUserStories(nodes).length} ?`)
console.log(`P1 ??: ${specKitRecognizer.filterByPriority(nodes, 'P1').length} ?`)

// 5. ?????
nodes[0].data.label = '???'
const newMarkdown = markdownAdapter.buildNodesToMarkdown(nodes)
```

### React ?????

```tsx
import { MarkdownImport } from './components/markdown-import'

function App() {
  const handleNodesLoaded = (nodes) => {
    console.log('???', nodes.length, '???')
    // ??????
  }

  return <MarkdownImport onNodesLoaded={handleNodesLoaded} />
}
```

---

## ????

### ?? 1: ????

```bash
cd /workspace/spec-kit-flow

# ???????
npm run dev

# ????:
# 1. ??"?? Markdown ??"??
# 2. ???? spec.md ??
# 3. ???????
```

### ?? 2: ????

```bash
cd /workspace/spec-kit-flow/src/adapters/__tests__

# ??????
node run-manual-test.mjs
```

### ?? 3: TypeScript ??

```bash
cd /workspace/spec-kit-flow

# ????
npx typescript --noEmit --skipLibCheck
```

---

## ????

### ????

1. **??????**: ?????????? Markdown?????????????
2. **?????**: ????????????
3. **????**: ??????????????
4. **Web ?????**: ?????????????????

### ????

1. **?? AST ??**: ????? Markdown AST ??
2. **????**: ????????
3. **????**: ?? Tauri ???????Agent-6?
4. **?????**: ???????????

---

## ?????

### ????

1. ? **??????**
   - ????????
   - ???????????
   - ???????

2. ? **?? Wave 3**
   - Agent-4: ??????
   - Agent-5: TipTap ??????
   - Agent-7: ??????

### ????

3. ? **?? Agent-6?Tauri?**
   - ????????????
   - ???????

---

## ??

? **Wave 2 ???????Markdown ??????????**

### ????

- ? Agent-2: Markdown ????5/5 ???
- ? Agent-3: SpecKit ??? + ???2/2 ???
- ? Agent-6: Tauri ????0/7 ???????

### ????

?????????

1. ? ???? Markdown ??? flowgram ??
2. ? ?? spec-kit ? 7 ???
3. ? ???????Markdown ? ???
4. ? Web ????????
5. ? ????????> 90%?
6. ? ?????< 100ms?

### ??

?? SDD ??????

1. **??????**: ????????
2. **?? Wave 3**: ?? UI ????
3. **????**: ?????? Agent-6?Tauri?

---

**??**: ? **???????? Wave 3 ???????**  
**????**: 2025-11-01  
**???**: ??????? / Wave 3 / Agent-6?
